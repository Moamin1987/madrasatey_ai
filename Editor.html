<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ù…ÙˆÙ„Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø±ÙˆØ³ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</title>
  <style>
    body { font-family: Tahoma, sans-serif; background: #f7f7f7; padding: 20px; }
    .box { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 5px #ccc; margin-bottom: 20px; }
    label { display: block; margin-top: 10px; font-weight: bold; }
    select, input, button, textarea { width: 100%; padding: 8px; margin-top: 5px; border-radius: 5px; border: 1px solid #ccc; }
    button { background: #2196f3; color: white; border: none; cursor: pointer; font-size: 16px; }
    button:hover { background: #1976d2; }
    textarea { height: 250px; resize: vertical; }
  </style>
</head>
<body>

  <div class="box">
    <h2>ğŸ“˜ Ù…ÙˆÙ„Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø±ÙˆØ³ Ù„Ù„ØªØ·Ø¨ÙŠÙ‚</h2>

    <label>Ø§Ø®ØªØ± Ø§Ù„ØµÙ:</label>
    <select id="grade">
      <option value="grade1">Ø§Ù„ØµÙ Ø§Ù„Ø£ÙˆÙ„</option>
      <option value="grade2">Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù†ÙŠ</option>
      <option value="grade3">Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù„Ø«</option>
      <option value="grade4" selected>Ø§Ù„ØµÙ Ø§Ù„Ø±Ø§Ø¨Ø¹</option>
      <option value="grade5">Ø§Ù„ØµÙ Ø§Ù„Ø®Ø§Ù…Ø³</option>
      <option value="grade6">Ø§Ù„ØµÙ Ø§Ù„Ø³Ø§Ø¯Ø³</option>
    </select>

    <label>Ø§Ø®ØªØ± Ø§Ù„ØªØ±Ù…:</label>
    <select id="term">
      <option value="term1" selected>Ø§Ù„ØªØ±Ù… Ø§Ù„Ø£ÙˆÙ„</option>
      <option value="term2">Ø§Ù„ØªØ±Ù… Ø§Ù„Ø«Ø§Ù†ÙŠ</option>
    </select>

    <label>Ø§Ø®ØªØ± Ø§Ù„Ù…Ø§Ø¯Ø©:</label>
    <select id="subject">
      <option value="arabic">Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
      <option value="math">Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª</option>
      <option value="science" selected>Ø§Ù„Ø¹Ù„ÙˆÙ…</option>
      <option value="english">Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©</option>
      <option value="religion">Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¯ÙŠÙ†ÙŠØ©</option>
      <option value="social">Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©</option>
    </select>

    <label>Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ø¯Ø±Ø³:</label>
    <input type="text" id="lessonName" placeholder="Ù…Ø«Ø§Ù„: Ø§Ù„Ø¯Ø±Ø³ Ø§Ù„Ø£ÙˆÙ„: Ø§Ù„Ù…Ø§Ø¡">

    <label>Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù (PDF, PPT, DOCX, HTMLâ€¦ ÙƒÙ…Ø§ Ø±ÙØ¹ØªÙ‡ Ø¹Ù„Ù‰ GitHub):</label>
    <input type="text" id="fileName" placeholder="Ù…Ø«Ø§Ù„: lesson1.pdf">

    <label>Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ù (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):</label>
    <select id="fileType">
      <option value="">ØªØ­Ø¯ÙŠØ¯ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù…Ù† Ø§Ù„Ø§Ù…ØªØ¯Ø§Ø¯</option>
      <option value="pdf">PDF</option>
      <option value="ppt">PPT</option>
      <option value="doc">DOC</option>
      <option value="docx">DOCX</option>
      <option value="html">HTML</option>
      <option value="other">Ø£Ø®Ø±Ù‰</option>
    </select>

    <button onclick="generate()">â• ØªÙˆÙ„ÙŠØ¯</button>
  </div>

  <div class="box">
    <h3>ğŸ“‚ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªÙˆÙ„Ø¯Ø©:</h3>
    <textarea id="output" readonly></textarea>
    <button onclick="copyOutput()">ğŸ“‹ Ù†Ø³Ø® Ø§Ù„ÙƒÙ„</button>
  </div>

  <script>
    const user = "Moamin1987"; // Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨ØªØ§Ø¹Ùƒ ÙÙŠ GitHub
    const repo = "madrasaty-app"; // Ø§Ø³Ù… Ø§Ù„Ø±ÙŠØ¨Ùˆ
    const branch = "main"; // Ø§Ù„ÙØ±Ø¹

    function getFileTypeFromExt(fileName) {
      const ext = fileName.split('.').pop().toLowerCase();
      if(['pdf','doc','docx','ppt','pptx','xls','xlsx'].includes(ext)) return 'file';
      if(ext==='html') return 'html';
      return 'other';
    }

    function generate() {
      let grade = document.getElementById("grade").value;
      let term = document.getElementById("term").value;
      let subject = document.getElementById("subject").value;
      let lessonName = document.getElementById("lessonName").value.trim();
      let fileName = document.getElementById("fileName").value.trim();
      let fileTypeSelect = document.getElementById("fileType").value;

      if (!lessonName || !fileName) {
        alert("Ù…Ù† ÙØ¶Ù„Ùƒ Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ø¯Ø±Ø³ ÙˆØ§Ø³Ù… Ø§Ù„Ù…Ù„Ù!");
        return;
      }

      let type = fileTypeSelect || getFileTypeFromExt(fileName);
      let safeFileName = encodeURIComponent(fileName);

      let rawUrl = `https://raw.githubusercontent.com/${user}/${repo}/${branch}/lessons/${grade}/${term}/${subject}/${safeFileName}`;

      let lessonData = `
{
  "id": "${fileName.split('.')[0]}",
  "title": "${lessonName}",
  "type": "${type}",
  "url": "${rawUrl}"
},`;

      document.getElementById("output").value += lessonData + "\n";
    }

    function copyOutput() {
      let output = document.getElementById("output");
      output.select();
      document.execCommand("copy");
      alert("âœ… ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª!");
    }
  </script>

</body>
</html>
